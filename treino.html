<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treino - Clarity</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="treino.css">
</head>
<body>

    <!-- MENU LATERAL (drawer) -->
    <div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()"></div>
    <aside class="side-drawer" id="sideDrawer">
        <div class="drawer-header">
            <span class="drawer-title">treino</span>
            <button class="drawer-close" onclick="closeDrawer()">‚úï</button>
        </div>
        <nav class="drawer-nav">
            <button class="drawer-item drawer-item--active" id="dItemPlanos"   onclick="setView('planos')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                meus planos
            </button>
            <button class="drawer-item" id="dItemRegistro" onclick="setView('registro')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4z"/></svg>
                registrar treino
            </button>
            <button class="drawer-item" id="dItemStats"    onclick="setView('stats')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                estat√≠sticas
            </button>
            <button class="drawer-item" id="dItemMedidas"  onclick="setView('medidas')">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/></svg>
                medidas corporais
            </button>
        </nav>
        <div class="drawer-footer">
            <button class="btn-topbar-action" onclick="exportTreino()" style="width:100%;justify-content:center;gap:8px;border-radius:12px">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                exportar dados
            </button>
        </div>
    </aside>

    <!-- TOPBAR -->
    <div class="treino-topbar">
        <button class="drawer-trigger" onclick="openDrawer()" id="drawerBtn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
        </button>
        <div class="treino-topbar-center">
            <div class="treino-date-nav">
                <button class="nav-btn" onclick="changeDate(-1)">‚Äπ</button>
                <div id="treinoDateTitle">...</div>
                <button class="nav-btn" onclick="changeDate(1)">‚Ä∫</button>
            </div>
            <div class="treino-view-label" id="treinoViewLabel">planos</div>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()" id="themeToggleBtn">‚òÄ claro</button>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PLANOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="viewPlanos" class="treino-page">
        <div class="plans-wrapper" id="plansWrapper">
            <!-- Estado: centralizado (s√≥ lista) -->
            <div class="plans-center-panel glass-panel" id="plansCenterPanel">
                <div class="plans-header">
                    <span class="plans-title">meus planos de treino</span>
                    <button class="btn-new-plan" onclick="openNewPlan()">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                        novo plano
                    </button>
                </div>
                <div id="plansList" class="plans-list-body"></div>
            </div>

            <!-- Editor (aparece √† direita) -->
            <div class="plan-editor-card glass-panel" id="planEditor" style="display:none">
                <div class="plan-editor-header">
                    <input type="text" id="planNameInput" class="f-input plan-name-input" placeholder="nome do plano (ex: Treino A)">
                    <div class="plan-editor-actions">
                        <button class="btn-del-plan" id="btnDelPlan" onclick="deletePlan()" style="display:none">apagar</button>
                        <button class="btn-save-plan" onclick="savePlanEdit()">‚úì salvar</button>
                        <button class="plan-editor-close" onclick="closePlanEditor()" title="Fechar">‚úï</button>
                    </div>
                </div>
                <div id="planMuscleGroups" class="plan-muscle-groups"></div>
                <div class="plan-add-ex-form">
                    <div class="pae-title">adicionar exerc√≠cio</div>
                    <div class="pae-with-preview">
                        <div class="pae-form-fields">
                            <!-- Avatar muscular interativo -->
                            <div class="muscle-avatar-selector">
                                <div class="muscle-avatar-label">selecione o m√∫sculo clicando no avatar:</div>
                                <div class="muscle-avatar-main-row">
                                <div class="muscle-avatars-row">
                                    <div class="avatar-wrap">
                                        <div class="avatar-side-label">frente</div>
                                        <svg class="body-svg" viewBox="0 0 160 360" xmlns="http://www.w3.org/2000/svg">
                                            <!-- Corpo base -->
                                            <ellipse cx="80" cy="42" rx="24" ry="28" fill="rgba(255,255,255,0.07)" stroke="rgba(255,255,255,0.18)" stroke-width="1.5"/>
                                            <path d="M48,70 Q36,76 30,108 L24,150 Q22,162 28,168 L34,200 L34,330 L42,334 L52,334 L56,330 L58,268 L72,268 L74,330 L78,334 L88,334 L96,330 L96,200 L102,168 Q108,162 106,150 L100,108 Q94,76 82,70 L80,68 L78,70 Q66,76 48,70Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.18)" stroke-width="1.5"/>
                                            <!-- Bra√ßos -->
                                            <path d="M30,108 Q20,112 16,130 L12,160 Q10,172 18,178 L26,180 L28,168 L30,108Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.15)" stroke-width="1.5"/>
                                            <path d="M100,108 Q110,112 114,130 L118,160 Q120,172 112,178 L104,180 L102,168 L100,108Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.15)" stroke-width="1.5"/>
                                            <!-- Antebra√ßos -->
                                            <path d="M12,160 L10,190 Q8,202 14,206 L22,208 L26,180 L18,178Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" stroke-width="1.5"/>
                                            <path d="M118,160 L120,190 Q122,202 116,206 L108,208 L104,180 L112,178Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" stroke-width="1.5"/>

                                            <!-- ZONAS CLIC√ÅVEIS ‚Äî frente -->
                                            <!-- Peito -->
                                            <path class="muscle-zone" data-muscle="Peito" d="M48,74 Q64,66 80,70 Q96,66 112,74 Q110,102 80,108 Q50,102 48,74Z"/>
                                            <!-- Ombro esq -->
                                            <path class="muscle-zone" data-muscle="Ombro" d="M30,68 Q44,58 52,72 Q50,94 36,98 Q22,90 30,68Z"/>
                                            <!-- Ombro dir -->
                                            <path class="muscle-zone" data-muscle="Ombro" d="M108,68 Q116,58 130,68 Q138,90 124,98 Q110,94 108,72Z"/>
                                            <!-- B√≠ceps esq -->
                                            <path class="muscle-zone" data-muscle="B√≠ceps" d="M16,108 Q28,102 34,116 Q32,148 18,150 Q6,140 16,108Z"/>
                                            <!-- B√≠ceps dir -->
                                            <path class="muscle-zone" data-muscle="B√≠ceps" d="M114,108 Q120,102 144,108 Q154,140 128,150 Q114,148 114,116Z"/>
                                            <!-- Abd√¥men -->
                                            <path class="muscle-zone" data-muscle="Abd√¥men" d="M54,110 Q80,116 106,110 Q108,156 80,162 Q52,156 54,110Z"/>
                                            <!-- Quadr√≠ceps esq -->
                                            <path class="muscle-zone" data-muscle="Quadr√≠ceps" d="M36,206 Q52,198 60,208 Q62,252 54,264 Q38,258 34,240Z"/>
                                            <!-- Quadr√≠ceps dir -->
                                            <path class="muscle-zone" data-muscle="Quadr√≠ceps" d="M100,206 Q108,198 124,208 Q126,240 122,264 Q106,258 98,252Z"/>
                                            <!-- Panturrilha esq -->
                                            <path class="muscle-zone" data-muscle="Panturrilha" d="M36,268 Q50,264 56,276 Q54,314 46,320 Q34,312 36,268Z"/>
                                            <!-- Panturrilha dir -->
                                            <path class="muscle-zone" data-muscle="Panturrilha" d="M98,268 Q106,264 124,268 Q126,312 114,320 Q106,314 98,276Z"/>
                                            <!-- Tr√≠ceps esq (frente) ‚Äî zona pequena no bra√ßo -->
                                            <path class="muscle-zone" data-muscle="Tr√≠ceps" d="M10,150 Q20,148 24,160 L22,180 Q14,178 8,168Z" opacity="0.01"/>
                                        </svg>
                                    </div>
                                    <div class="avatar-wrap">
                                        <div class="avatar-side-label">costas</div>
                                        <svg class="body-svg" viewBox="0 0 160 360" xmlns="http://www.w3.org/2000/svg">
                                            <!-- Corpo base costas -->
                                            <ellipse cx="80" cy="42" rx="24" ry="28" fill="rgba(255,255,255,0.07)" stroke="rgba(255,255,255,0.18)" stroke-width="1.5"/>
                                            <path d="M48,70 Q36,76 30,108 L24,150 Q22,162 28,168 L34,200 L34,330 L42,334 L52,334 L56,330 L58,268 L72,268 L74,330 L78,334 L88,334 L96,330 L96,200 L102,168 Q108,162 106,150 L100,108 Q94,76 82,70 L80,68 L78,70 Q66,76 48,70Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.18)" stroke-width="1.5"/>
                                            <path d="M30,108 Q20,112 16,130 L12,160 Q10,172 18,178 L26,180 L28,168 L30,108Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.15)" stroke-width="1.5"/>
                                            <path d="M100,108 Q110,112 114,130 L118,160 Q120,172 112,178 L104,180 L102,168 L100,108Z" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.15)" stroke-width="1.5"/>
                                            <path d="M12,160 L10,190 Q8,202 14,206 L22,208 L26,180 L18,178Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" stroke-width="1.5"/>
                                            <path d="M118,160 L120,190 Q122,202 116,206 L108,208 L104,180 L112,178Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" stroke-width="1.5"/>

                                            <!-- ZONAS CLIC√ÅVEIS ‚Äî costas -->
                                            <!-- Costas -->
                                            <path class="muscle-zone" data-muscle="Costas" d="M48,72 Q80,64 112,72 Q114,108 106,130 Q92,142 80,144 Q68,142 54,130 Q46,108 48,72Z"/>
                                            <!-- Ombro esq costas -->
                                            <path class="muscle-zone" data-muscle="Ombro" d="M28,68 Q42,58 50,74 Q48,96 34,100 Q20,90 28,68Z"/>
                                            <!-- Ombro dir costas -->
                                            <path class="muscle-zone" data-muscle="Ombro" d="M110,74 Q118,58 132,68 Q140,90 126,100 Q112,96 110,74Z"/>
                                            <!-- Tr√≠ceps esq -->
                                            <path class="muscle-zone" data-muscle="Tr√≠ceps" d="M14,108 Q26,102 32,118 Q30,152 14,154 Q4,142 14,108Z"/>
                                            <!-- Tr√≠ceps dir -->
                                            <path class="muscle-zone" data-muscle="Tr√≠ceps" d="M118,108 Q128,102 146,108 Q156,142 146,154 Q130,152 118,118Z"/>
                                            <!-- Gl√∫teo -->
                                            <path class="muscle-zone" data-muscle="Gl√∫teo" d="M48,186 Q80,178 112,186 Q114,214 96,220 Q80,224 64,220 Q46,214 48,186Z"/>
                                            <!-- Posterior esq -->
                                            <path class="muscle-zone" data-muscle="Posterior" d="M36,220 Q52,214 62,224 Q64,260 56,272 Q40,266 34,248Z"/>
                                            <!-- Posterior dir -->
                                            <path class="muscle-zone" data-muscle="Posterior" d="M98,224 Q108,214 124,220 Q126,248 120,272 Q104,266 96,260Z"/>
                                            <!-- Panturrilha esq costas -->
                                            <path class="muscle-zone" data-muscle="Panturrilha" d="M38,276 Q52,270 58,282 Q56,318 46,324 Q34,316 38,276Z"/>
                                            <!-- Panturrilha dir costas -->
                                            <path class="muscle-zone" data-muscle="Panturrilha" d="M102,276 Q108,270 122,276 Q126,316 114,324 Q104,318 102,282Z"/>
                                        </svg>
                                    </div>
                                </div>
                                <!-- Preview ao lado dos avatares -->
                                <div class="pae-img-preview-wrap" id="paeImgWrap" style="display:none">
                                    <img id="paeExPreview" class="pae-ex-preview" alt="">
                                    <span class="pae-img-label" id="paeImgLabel"></span>
                                </div>
                                </div><!-- end muscle-avatar-main-row -->
                                <div class="muscle-selected-display">
                                    <span class="muscle-selected-label">selecionado:</span>
                                    <span class="muscle-selected-name" id="muscleSelectedName">clique no avatar</span>
                                </div>
                                <input type="hidden" id="paeMusc" value="">
                            </div>
                            <div class="ef-row-top">
                                <select id="paeEx" class="f-select" style="flex:1" onchange="updatePaePreview()"><option value="">‚Äî exerc√≠cio ‚Äî</option></select>
                                <input type="text" id="paeExCustom" class="f-input hidden" placeholder="nome do exerc√≠cio" style="flex:1">
                            </div>
                            <div class="ef-row-top" style="margin-top:6px">
                                <div class="equip-toggle">
                                    <button class="equip-btn equip-btn--active" id="paeBtnLivre"   onclick="setPaeEquip('livre')">üèãÔ∏è livre</button>
                                    <button class="equip-btn"                   id="paeBtnMaquina" onclick="setPaeEquip('maquina')">‚öôÔ∏è m√°quina</button>
                                </div>
                                <input type="text" id="paeObs" class="f-input" placeholder="observa√ß√£o" style="flex:1">
                                <button class="btn-add-set" onclick="addExToPlan()">+ add</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê REGISTRO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="viewRegistro" class="treino-page hidden">
        <div class="registro-grid">
            <!-- Coluna principal -->
            <div class="registro-main">
                <!-- Stats do dia -->
                <div class="reg-stats-row" id="treinoStatsRow"></div>

                <!-- For√ßa comparada (animal do dia) -->
                <div class="glass-panel reg-animal-panel" id="regAnimalPanel" style="display:none"></div>

                <!-- Seletor de plano -->
                <div class="glass-panel plan-day-selector">
                    <div class="pds-label">qual treino voc√™ realizou hoje?</div>
                    <div class="pds-plans-row" id="pdsPlansList"></div>
                    <div class="pds-divider">ou</div>
                    <button class="btn-cardio-toggle" id="btnCardioToggle" onclick="toggleCardioForm()">
                        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                        cardio / outro
                    </button>
                </div>

                <!-- Exerc√≠cios do plano -->
                <div id="planExercisesForm" style="display:none">
                    <div class="glass-panel pef-header-panel">
                        <div>
                            <span class="pef-plan-name" id="pefPlanName"></span>
                            <span class="pef-subtitle">registre a carga de cada exerc√≠cio</span>
                        </div>
                        <button class="btn-discard" onclick="cancelPlanSelection()">cancelar</button>
                    </div>
                    <div id="pefExercisesAccordion"></div>
                    <button class="btn-save-session" onclick="saveSession()">‚úì salvar sess√£o</button>
                </div>

                <!-- Cardio -->
                <div class="exercise-form glass-panel hidden" id="formCardio">
                    <div class="form-title">registrar cardio / atividade</div>
                    <div class="ef-row-top">
                        <input type="text" id="cfActivity" class="f-input" placeholder="atividade (corrida, nata√ß√£o, yoga‚Ä¶)" style="flex:1">
                    </div>
                    <div class="ef-row-add">
                        <div class="ef-add-field">
                            <label class="ef-add-label">dura√ß√£o (min)</label>
                            <input type="number" id="cfDuration" class="f-input ef-num-input" min="0" step="1" placeholder="30">
                        </div>
                        <div class="ef-add-field">
                            <label class="ef-add-label">dist√¢ncia (km)</label>
                            <input type="number" id="cfDistance" class="f-input ef-num-input" min="0" step="0.1" placeholder="0">
                        </div>
                        <div class="ef-add-field">
                            <label class="ef-add-label">intensidade</label>
                            <select id="cfIntensity" class="f-select"><option value="leve">leve</option><option value="moderada" selected>moderada</option><option value="intensa">intensa</option></select>
                        </div>
                    </div>
                    <div class="ef-row-top">
                        <input type="text" id="cfObs" class="f-input" placeholder="observa√ß√µes" style="flex:1">
                        <button class="btn-save-exercise" style="width:auto;padding:11px 22px" onclick="saveCardio()">‚úì salvar</button>
                    </div>
                </div>

                <!-- Lista do dia -->
                <div class="exercises-list-panel glass-panel">
                    <div class="form-title" id="exercisesListTitle">exerc√≠cios do dia</div>
                    <div id="exercisesList"></div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="registro-sidebar">
                <div class="glass-panel progress-chart-panel">
                    <div class="pcp-header">
                        <span class="pcp-title">progress√£o de carga</span>
                        <select id="chartExerciseSel" class="f-select pcp-sel" onchange="renderProgressChart()">
                            <option value="">selecione um exerc√≠cio</option>
                        </select>
                    </div>
                    <div class="pcp-chart-wrap"><canvas id="progressChart"></canvas></div>
                    <div class="pcp-pr" id="pcpPR"></div>
                </div>
                <div class="glass-panel recent-history-panel">
                    <div class="rhp-title">hist√≥rico recente</div>
                    <div id="recentHistoryList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ESTAT√çSTICAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="viewStats" class="treino-page hidden treino-stats-view">
        <div class="stats-outer-grid">
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">s√©ries por m√∫sculo ‚Äî √∫ltimos 7 dias</div>
                <div id="statsMuscleList"></div>
            </div>
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">frequ√™ncia ‚Äî √∫ltimas 4 semanas</div>
                <div class="stats-chart-wrap"><canvas id="statsFreqChart"></canvas></div>
            </div>
            <!-- Calend√°rio naveg√°vel com bot√µes de m√™s -->
            <div class="glass-panel stats-panel stats-panel--wide">
                <div class="stats-panel-title">
                    calend√°rio de treinos üìÖ
                    <div class="cal-nav-row">
                        <button class="cal-nav-btn" onclick="calPrevMonth()">‚Äπ</button>
                        <span id="calMonthLabel">‚Äî</span>
                        <button class="cal-nav-btn" onclick="calNextMonth()">‚Ä∫</button>
                    </div>
                </div>
                <div id="statsCalendar" class="stats-calendar-single"></div>
            </div>
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">resumo ‚Äî √∫ltimos 30 dias</div>
                <div id="statsSummary" class="stats-summary-list"></div>
            </div>
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">for√ßa comparada (todos os treinos) ü¶Å</div>
                <div id="statsAnimals"></div>
            </div>
            <div class="glass-panel stats-panel stats-panel--wide">
                <div class="stats-panel-title">recordes de carga por exerc√≠cio üèÜ</div>
                <div id="statsPRList" class="stats-pr-list"></div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MEDIDAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="viewMedidas" class="treino-page hidden">
        <div class="medidas-container">
            <div class="glass-panel medidas-form-panel">
                <div class="stats-panel-title" style="margin-bottom:14px">registrar medidas corporais</div>
                <div class="medidas-form-grid">
                    <div class="mf-field"><label class="ef-add-label">data</label><input type="date" id="mDate" class="f-input"></div>
                    <div class="mf-field"><label class="ef-add-label">peso (kg)</label><input type="number" id="mPeso" class="f-input ef-num-input" step="0.1" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">altura (cm)</label><input type="number" id="mAltura" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">peito (cm)</label><input type="number" id="mPeito" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">cintura (cm)</label><input type="number" id="mCintura" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">quadril (cm)</label><input type="number" id="mQuadril" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">b√≠ceps (cm)</label><input type="number" id="mBiceps" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">coxa (cm)</label><input type="number" id="mCoxa" class="f-input ef-num-input" step="0.5" placeholder="‚Äî"></div>
                    <div class="mf-field"><label class="ef-add-label">% gordura</label><input type="number" id="mGordura" class="f-input ef-num-input" step="0.1" placeholder="‚Äî"></div>
                </div>
                <button class="btn-save-exercise" onclick="saveMedida()">‚úì registrar medidas</button>
            </div>
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">evolu√ß√£o do peso</div>
                <div class="stats-chart-wrap" style="height:200px"><canvas id="medidasPesoChart"></canvas></div>
            </div>
            <div class="glass-panel stats-panel">
                <div class="stats-panel-title">primeira vs. √∫ltima medi√ß√£o</div>
                <div id="medidasDiff" class="stats-summary-list"></div>
            </div>
            <div class="glass-panel stats-panel stats-panel--wide">
                <div class="stats-panel-title">hist√≥rico de medidas</div>
                <div id="medidasTable" class="medidas-table"></div>
            </div>
        </div>
    </div>

    <!-- MODAL: detalhes do dia no calend√°rio -->
    <div class="cal-day-overlay" id="calDayOverlay" onclick="closeCalDayModal(event)">
        <div class="cal-day-modal">
            <div class="cal-day-modal-header">
                <div class="cal-day-modal-date" id="calDayDate">‚Äî</div>
                <button class="cal-day-modal-close" onclick="closeCalDayModal()">‚úï</button>
            </div>
            <div id="calDayContent" class="cal-day-content"></div>
        </div>
    </div>

    <!-- MENU FLUTUANTE -->
    <nav class="float-nav">
        <a href="index.html" class="fn-btn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg><span>h√°bitos</span></a>
        <a href="nutricao.html" class="fn-btn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z"/></svg><span>nutri√ß√£o</span></a>
        <a href="estudos.html" class="fn-btn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg><span>estudos</span></a>
        <a href="treino.html" class="fn-btn fn-btn--active"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6.5 6.5h11M6.5 17.5h11M3 12h3m15 0h-3M6 9l-3 3 3 3M18 9l3 3-3 3"/></svg><span>treino</span></a>
        <a href="notas.html" class="fn-btn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg><span>notas</span></a>
    </nav>


    <!-- MODAL TIMER DE DESCANSO -->
    <div class="rest-timer-overlay" id="restTimerOverlay">
        <div class="rest-timer-modal">
            <div class="rest-timer-header">
                <span class="rest-timer-title">‚è± descanso</span>
                <button class="rest-timer-skip" onclick="skipRestTimer()">pular ‚úï</button>
            </div>
            <div class="rest-timer-display" id="restTimerDisplay">60</div>
            <div class="rest-timer-progress">
                <div class="rest-timer-progress-fill" id="restTimerProgressFill"></div>
            </div>
            <div class="rest-timer-presets">
                <button class="rest-preset-btn" onclick="setRestTimer(30)">30s</button>
                <button class="rest-preset-btn rest-preset-btn--active" onclick="setRestTimer(60)">1min</button>
                <button class="rest-preset-btn" onclick="setRestTimer(90)">1m30</button>
                <button class="rest-preset-btn" onclick="setRestTimer(120)">2min</button>
            </div>
            <div class="rest-timer-ex-info" id="restTimerExInfo"></div>
        </div>
    </div>

    <!-- MODAL: TIMER DE DESCANSO -->
    <div class="rest-timer-overlay" id="restTimerOverlay">
        <div class="rest-timer-modal">
            <div class="rest-timer-header">
                <span class="rest-timer-title">‚è± descanso</span>
                <button class="rest-timer-skip" onclick="skipRestTimer()">pular</button>
            </div>
            <div class="rest-timer-circle">
                <svg class="rest-timer-svg" viewBox="0 0 120 120">
                    <circle class="rest-timer-bg" cx="60" cy="60" r="52"/>
                    <circle class="rest-timer-progress" id="restTimerProgress" cx="60" cy="60" r="52"/>
                </svg>
                <div class="rest-timer-count" id="restTimerCount">60</div>
            </div>
            <div class="rest-timer-info" id="restTimerInfo">pr√≥xima s√©rie em breve</div>
            <div class="rest-timer-btns">
                <button class="rest-btn rest-btn--minus" onclick="adjustRestTimer(-15)">‚àí15s</button>
                <button class="rest-btn rest-btn--plus"  onclick="adjustRestTimer(+15)">+15s</button>
            </div>
            <div class="rest-timer-presets">
                <button class="rest-preset" onclick="setRestDuration(30)">30s</button>
                <button class="rest-preset rest-preset--active" onclick="setRestDuration(60)">1 min</button>
                <button class="rest-preset" onclick="setRestDuration(90)">1:30</button>
                <button class="rest-preset" onclick="setRestDuration(120)">2 min</button>
                <button class="rest-preset" onclick="setRestDuration(180)">3 min</button>
            </div>
        </div>
    </div>

    <script src="treino.js"></script>
</body>
</html>
